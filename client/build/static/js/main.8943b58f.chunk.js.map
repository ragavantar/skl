{"version":3,"sources":["pages/login/index.jsx","components/CourseCard/index.js","services/index.js","pages/dashboard/index.jsx","pages/payment/index.jsx","pages/course/index.jsx","App.js","reportWebVitals.js","index.js"],"names":["Login","useState","email","setEmail","password","setPassword","history","useHistory","form","useRef","className","ref","htmlFor","id","type","value","onChange","e","target","required","onClick","current","reportValidity","push","CourseCard","price","thumbnailURL","title","buyHandler","src","alt","getAllCourses","a","fetch","resp","json","data","localStorage","setItem","JSON","stringify","console","error","getCourseById","allCourses","parse","getItem","find","course","getMyCourses","Dashboard","courses","setCourses","myCourses","setMyCourses","useEffect","then","length","filter","includes","map","to","Payment","cardNumber","setCardNumber","cardUserName","setUserName","cardCvv","setCvv","otp","setOtp","otpDisabled","setOtpDisabled","showForm","setShowForm","setCourse","message","setMsg","useParams","disabled","placeholder","Course","setData","getFormattedLink","link","split","videoLink","frameBorder","allow","allowFullScreen","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8943b58f.chunk.js","sourcesContent":["import React, { useRef, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport './styles.css';\n\nconst Login = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    const history = useHistory();\n    const form = useRef(null);\n\n    const handleLogin = () => {\n        if (form.current.reportValidity())\n            history.push(\"/dashboard\");\n    }\n\n    const handleRegister = () => {\n        if (form.current.reportValidity())\n            history.push(\"/dashboard\");\n    }\n\n    return (\n        <div className=\"loginPage\">\n            <h1>Welcome to Skl</h1>\n            <form ref={form}>\n                <label htmlFor=\"email\">Email*</label>\n                <input id=\"email\" type=\"email\" value={email} onChange={e => setEmail(e.target.value)} required />\n                <label htmlFor=\"password\">Password*</label>\n                <input id=\"password\" type=\"password\" value={password} onChange={e => setPassword(e.target.value)} required />\n                <button type=\"button\" onClick={handleLogin}>Login</button>\n                <button type=\"button\" onClick={handleRegister}>Register</button>\n            </form>\n        </div>\n    );\n}\n\nexport default Login;","import './styles.css';\n\nconst CourseCard = ({ price, thumbnailURL, title, buyHandler }) => {\n    return (\n        <div className=\"courseCard\">\n            <img src={thumbnailURL} alt={title} />\n            <div>\n                <div>{title}</div>\n                <div>Price: {price}\n                </div>\n                {buyHandler &&\n                    <button onClick={buyHandler}>Buy</button>\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default CourseCard;","export const getAllCourses = async () => {\n    try {\n        let resp = await fetch(`https://s3-ap-southeast-1.amazonaws.com/he-public-data/courses26269ff.json`);\n        let data = await resp.json();\n        localStorage.setItem('allCourses', JSON.stringify(data));\n        return data;\n    }\n    catch (err) {\n        console.error(err)\n        return []\n    }\n}\n\nexport const getCourseById = async (id) => {\n    let allCourses = JSON.parse(localStorage.getItem('allCourses'));\n    if (!allCourses)\n        allCourses = await getAllCourses();\n    return allCourses.find(course => course.id == id) || { title: 'No Course Found' }\n}\n\nexport const getMyCourses = () => JSON.parse(localStorage.getItem('myCourses')) || [];","import React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport './styles.css';\n\nimport CourseCard from '../../components/CourseCard';\n\nimport { getAllCourses, getMyCourses } from '../../services';\n\n\nconst Dashboard = () => {\n    const [courses, setCourses] = useState([]);\n    const [myCourses, setMyCourses] = useState([]);\n\n    const history = useHistory();\n\n    useEffect(() => {\n        getAllCourses().then(setCourses);\n        setMyCourses(getMyCourses());\n    }, [])\n\n    const buyHandler = (id) => history.push(`/payment/${id}`)\n\n    return (\n        <div className=\"dashboard\">\n            <h2>My Courses</h2>\n            <div className=\"courseContainer\">\n                {\n                    myCourses.length > 0 ?\n                        courses\n                            .filter(({ id }) => myCourses.includes(id))\n                            .map(course => <Link key={course.id} to={`/course/${course.id}`}><CourseCard {...course} /></Link>)\n                        :\n                        <div>No courses have been purchased</div>\n                }\n            </div>\n            <h2>Available Courses</h2>\n            <div className=\"courseContainer\">\n                {\n                    courses\n                        .filter(({ id }) => !myCourses.includes(id))\n                        .map(course => <CourseCard key={course.id} {...course} buyHandler={() => buyHandler(course.id)} />)\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default Dashboard;","import React, { useState, useRef, useEffect } from 'react';\nimport './styles.css'\n\nimport { useParams, Link } from 'react-router-dom';\nimport { getCourseById, getMyCourses } from '../../services';\n\nconst IncorrectOTP = \"Incorrect OTP, please try again\";\nconst Success = \"Payment Success. you can find this course on My Course on the dashboard\";\n\nconst Payment = () => {\n\n    const [cardNumber, setCardNumber] = useState();\n    const [cardUserName, setUserName] = useState();\n    const [cardCvv, setCvv] = useState()\n    const [otp, setOtp] = useState()\n    const [otpDisabled, setOtpDisabled] = useState(true)\n    const [showForm, setShowForm] = useState(true)\n\n    const [course, setCourse] = useState({})\n\n    const [message, setMsg] = useState('');\n\n    const form = useRef(null);\n    let { id } = useParams();\n\n    useEffect(() => {\n\n        // check course is purchased\n        if (getMyCourses().includes(id)) {\n            setCourse({ title: \"You have already purchased this course\" })\n            setShowForm(false)\n        } else\n            getCourseById(id).then(setCourse);\n    }, []);\n\n    const handleSubmit = () => {\n        if (otp === \"123456\") {\n            let myCourses = JSON.parse(localStorage.getItem('myCourses'));\n            if (myCourses) myCourses.push(id);\n            else myCourses = [id];\n            localStorage.setItem('myCourses', JSON.stringify(myCourses));\n            setMsg(Success)\n            setShowForm(false)\n        } else\n            setMsg(IncorrectOTP)\n    }\n\n    const handleOTP = () => {\n        if (form.current.reportValidity())\n            setOtpDisabled(false)\n    }\n\n    return (\n        <div className=\"paymentPage\">\n            <h2>{`Purchase : ${course.id || ''} - ${course.title}`}</h2>\n            {\n                showForm && course.id &&\n                <form ref={form}>\n                    <label htmlFor=\"number\">Card Number</label>\n                    <input id=\"number\" type=\"number\" value={cardNumber} onChange={e => setCardNumber(e.target.value)} required />\n                    <label htmlFor=\"name\">Card User Name</label>\n                    <input id=\"name\" type=\"text\" value={cardUserName} onChange={e => setUserName(e.target.value)} required />\n                    <label htmlFor=\"cvv\">Card CVV</label>\n                    <input id=\"cvv\" type=\"text\" value={cardCvv} onChange={e => setCvv(e.target.value)} required />\n                    <button type=\"button\" onClick={handleOTP}>Get OTP</button>\n                    <label htmlFor=\"otp\">Enter OTP</label>\n                    <input disabled={otpDisabled} id=\"otp\" type=\"number\" placeholder={`hint: 123456`} value={otp} onChange={e => setOtp(e.target.value)} required />\n                    <button type=\"button\" disabled={otpDisabled} onClick={handleSubmit}>Submit</button>\n                </form>\n            }\n            {\n                message &&\n                <div className=\"msg\">{message}</div>\n            }\n            <div><Link to=\"/dashboard\">Go Back To DashBoard</Link></div>\n        </div>\n    );\n}\n\nexport default Payment;","import React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { getCourseById, getMyCourses } from '../../services';\n\nimport './styles.css';\n\nconst Course = () => {\n    let { id } = useParams();\n    let [data, setData] = useState({});\n\n    useEffect(() => {\n        // check course is purchased\n        if (!getMyCourses().includes(id))\n            setData({ title: \"You have not purchased this course\" })\n        else\n            getCourseById(id).then(setData);\n    }, [])\n\n\n    const getFormattedLink = (link) => `https://www.youtube.com/embed/${link.split('/')[3]}`\n\n    const { thumbnailURL, title, videoLink = [] } = data;\n    return (\n        <div className=\"coursePage\">\n            <div><Link to=\"/dashboard\">Go Back To DashBoard</Link></div>\n            <h2>{title}</h2>\n            <img src={thumbnailURL} />\n            <h3>Course Videos</h3>\n            {videoLink.map(link =>\n                <iframe\n                    key={link}\n                    src={getFormattedLink(link)}\n                    title=\"YouTube video player\"\n                    frameBorder=\"0\"\n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                    allowFullScreen></iframe>\n            )}\n        </div>\n    );\n}\n\nexport default Course;","import './App.css';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\nimport Login from './pages/login';\nimport Dashboard from './pages/dashboard';\nimport Payment from './pages/payment';\nimport Course from './pages/course';\n\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            <Login />\n          </Route>\n          <Route path=\"/dashboard\">\n            <Dashboard />\n          </Route>\n          <Route path=\"/payment/:id\">\n            <Payment />\n          </Route>\n          <Route path=\"/course/:id\">\n            <Course />\n          </Route>\n          <Route path=\"/\">\n            <div className=\"App\">\n              Page Not Found\n              <div><Link to=\"/\">Go Back To Login Page</Link></div>\n            </div>\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}